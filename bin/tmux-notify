#!/usr/bin/env bash

TITLE="$1"
MESSAGE="$2"

if [[ -z "${MESSAGE}" ]]; then
  MESSAGE="${TITLE}"
  TITLE="NOTIFICATION"
fi

line_count=$(echo "${MESSAGE}" | wc -l)
line_count=$((line_count+2))

SCRIPT=$(cat<<EOF
tput civis;
echo ${MESSAGE};
read -s
EOF
      )
tmux display-popup -T "${TITLE}" -h ${line_count} -E "${SCRIPT}"
