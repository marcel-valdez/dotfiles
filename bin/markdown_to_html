#!/usr/bin/env bash

input_file=$1
output_file=$2

[ -z "${output_file}" ] && output_file="${input_file/.md/.html}"

if [ ! -e "${input_file}" ]; then
  echo "File ${input_file} does not exist"
  exit 1
fi

expanded_input_path=$(readlink -f "${input_file}")
expanded_output_path=$(readlink -f "${output_file}")
output_file="${expanded_output_path}"
input_file="${expanded_input_path}"
pandoc --from=markdown --to=html --output="${output_file}" "${input_file}"
